{% extends 'content_manager/cm_base.html' %}

{% block title %}Message from {{ message.name }} | Mailbox{% endblock %}

{% block page_title %}Message from {{ message.name }}{% endblock %}

{% block content %}
<div class="detail-view">
    <p><a href="{% url 'mail_client:message_list' %}" class="btn btn-sm btn-secondary">&laquo; Back to Messages</a></p>

    <dl class="detail-list">
        <dt>From:</dt><dd>{{ message.name }}</dd>
        <dt>Email:</dt><dd><a href="mailto:{{ message.email }}">{{ message.email }}</a></dd>
        <dt>Received:</dt><dd>{{ message.received_at|date:"Y-m-d H:i:s" }}</dd>
        <dt>Subject:</dt><dd>{{ message.subject }}</dd>
        <dt>Message:</dt><dd style="white-space: pre-wrap; background: #f8f9fa; padding: 10px; border-radius: 4px;">{{ message.message }}</dd> {# Use pre-wrap to preserve line breaks #}
        <dt>Status:</dt><dd>{% if message.is_read %}Read{% else %}Marked Read on View{% endif %}</dd>
    </dl>
</div>
<style> /* Simple detail list styling */
    .detail-list dt { font-weight: bold; margin-top: 10px; color: #444; }
    .detail-list dd { margin-left: 0; margin-bottom: 10px; color: #333; }
</style>
{% endblock %}